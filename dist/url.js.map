{"version":3,"file":"url.js","sources":["../url/helpers.js","../url/toObject.js","../url/parseUrl.js","../url/fromObject.js","../url/fromLocation.js","../url/URL.js"],"sourcesContent":["\nexport const NIL = '';\n\nconst _is_url_r_ = /^[\\w.+\\-]{3,20}\\:\\/\\/[a-z0-9]/i;\nconst _is_domain_r_ = /^[a-z0-9][0-9a-z_\\-]*(?:\\.[a-z0-9][0-9a-z_\\-]*)*$/;\n\nexport function is_url(str) {\n    return _is_url_r_.test(str);\n}\n\nexport function is_domain(str) {\n    return _is_domain_r_.test(str);\n}\n\nexport function decodeAmp(str) {\n    return String(str).replace(/%26/g, '&');\n}\n\nexport function encodeAmp(str) {\n    return String(str).replace(/\\&/g, '%26');\n}\n\nexport function urldecode(str) {\n    return decodeURIComponent(String(str).replace(/\\+/g, '%20'));\n}\n","import { decodeAmp, urldecode, NIL } from './helpers';\n\nconst _excludeQueryChart_r_ = /[\\t\\r\\n\\x09]/g;\n\nexport default function toObject(str, sep, eq, ndec) {\n    if (sep == undefined) sep = '&';\n    if (eq == undefined) eq = '=';\n    var j = String(str.replace(_excludeQueryChart_r_, NIL)).split(sep)\n        , i = j.length\n        , a = {}\n        , t\n        ;\n    ndec = ndec ? decodeAmp : urldecode;\n    while (i-- > 0) if (t = j[i]) {\n        t = t.split(eq);\n        j[i] = t.splice(0, 1)[0];\n        t = t.join(eq);\n        a[ndec(j[i])] = ndec(t);\n    }\n    return a;\n}\n","import { NIL } from './helpers';\nimport toObject from './toObject';\n\n/*globals URL*/\n\nconst _parse_url_exp = new RegExp([\n    '^([\\\\w.+\\\\-\\\\*]+:)//'          // protocol\n    , '(([^:/?#]*)(?::([^/?#]*))?@|)' // username:password\n    , '(([^:/?#]*)(?::(\\\\d+))?)'      // host == hostname:port\n    , '(/[^?#]*|)'                    // pathname\n    , '(\\\\?([^#]*)|)'                 // search & query\n    , '(#.*|)$'                       // hash\n].join(NIL));\n\nconst _parse_url_map = {\n    protocol: 1\n    , username: 3\n    , password: 4\n    , host: 5\n    , hostname: 6\n    , port: 7\n    , pathname: 8\n    , search: 9\n    , query: 10\n    , hash: 11\n};\n\nexport default function parseUrl(href, part, parseQuery) {\n    href = String(href);\n    var match = href.match(_parse_url_exp)\n        , map = _parse_url_map\n        , i, ret = false\n        ;\n    if (match) {\n        if (part && part in map) {\n            ret = match[map[part]] || NIL;\n            if (part == 'pathname') {\n                if (!ret) ret = '/';\n            }\n            if (parseQuery && part == 'query') {\n                ret = toObject(ret || NIL);\n            }\n        }\n        else {\n            let _ = this;\n            if(typeof _ != 'function') {\n                _ = typeof URL == 'function' && URL.createObjectURL ? URL : Object;\n                ret = new _(href);\n                // ret.toString = function _uri_to_string_() {\n                //     return fromLocation(this);\n                // };\n            }\n            else {\n                ret = new _(); // URLJS() constructor?\n            }\n\n            for (i in map) if (map.hasOwnProperty(i)) {\n                ret[i] = match[map[i]] || NIL;\n            }\n            if (!ret.pathname) ret.pathname = '/';\n            ret.path = ret.pathname + ret.search;\n            ret.origin = ret.protocol + '//' + ret.host;\n            ret.domain = ret.hostname.replace(/^www./, NIL).toLowerCase();\n            if (parseQuery) ret.query = toObject(ret.query || NIL);\n            ret.href = String(href); // ??? may need some parse\n            if (part) ret = ret[part];\n        }\n    }\n    return ret;\n}\n","import { encodeAmp, NIL } from './helpers';\n\nexport default function fromObject(o, pref, nenc) {\n    var r = Object.keys(o),\n        i = r.length,\n        n, v;\n\n    if (!r.length) return pref ? pref + '' : '';\n\n    r.sort();\n    nenc = nenc ? encodeAmp : encodeURIComponent;\n    for (; i--;) {\n        n = r[i];\n        v = o[n];\n        if (v == null) r.splice(i, 1);\n        else {\n            n = nenc(n);\n            if (v !== NIL) n += '=' + nenc(v);\n            r[i] = n;\n        }\n    }\n    // Object.each(o, nenc ? function(n,v) { if(v != u) n += '=' + v; r[++i] = n } :\n    // function(n,v) { n = encodeURIComponent(n); if(v != u) n += '=' + encodeURIComponent(v); r[++i] = n }\n    // );\n    r = r.join('&');\n    if (pref) r = pref + (typeof pref != 'string' || pref.indexOf('?') < 0 ? '?' : '&') + r;\n    return r;\n}\n","import fromObject from './fromObject';\nimport { NIL } from './helpers';\n\nexport default function fromLocation(o) {\n    var url = [], t;\n    if (t = o.protocol) url.push(t.toLowerCase() + '//');\n    if ((t = o.username) || o.password) {\n        url.push(t || NIL);\n        if (t = o.password) url.push(':' + t);\n        url.push('@');\n    }\n    if (t = o.hostname) {\n        url.push(t.toLowerCase());\n        if (t = o.port) url.push(':' + t);\n    }\n    else\n        if (t = o.host) url.push(t.toLowerCase());\n\n    if (t = o.pathname) url.push((t.substr(0, 1) == '/' ? NIL : '/') + t);\n    if (t = o.search || o.query) {\n        if (typeof t == 'object') {\n            t = fromObject(t);\n        }\n        if (t && t != '?') {\n            url.push((t.substr(0, 1) == '?' ? NIL : '?') + t);\n        }\n    }\n    if (t = o.hash) url.push((t.substr(0, 1) == '#' ? NIL : '#') + t);\n\n    return url.join(NIL);\n}\n","import parseUrl from './parseUrl';\nimport fromLocation from './fromLocation';\nimport fromObject from './fromObject';\nimport toObject from './toObject';\nimport { is_domain, is_url } from './helpers';\n\n/**\n *  URL parser.\n *\n *  @license MIT\n *  @version 1.0.0\n *  @author Dumitru Uzun (DUzun.Me)\n *  @umd AMD, Browser, CommonJs, noDeps\n */\nexport default function URLJS(url, baseURL) {\n    if (url != undefined) {\n        let _url = parseUrl.call(URLJS, url);\n        if (_url !== false) return _url;\n        if (baseURL) {\n            _url = parseUrl.call(URLJS, baseURL);\n            if (_url === false) return;\n            url = String(url);\n            if (url.slice(0, 2) == '//') {\n                return parseUrl.call(URLJS, _url.protocol + url);\n            }\n            let _path;\n            if (url.slice(0, 1) == '/') {\n                _path = url;\n            }\n            else {\n                _path = _url.pathname.split('/');\n                _path[_path.length - 1] = url;\n                _path = _path.join('/');\n            }\n            return parseUrl.call(URLJS, _url.origin + _path);\n        }\n        throw new SyntaxError(`Failed to construct 'URL': Invalid URL`);\n    }\n}\n\nconst __ = URLJS.prototype;\n    // ---------------------------------------------------------------------------\nconst __ex = typeof Object.defineProperty == 'function'\n        ? (name, func, proto) => {\n            Object.defineProperty(proto || __, name, {\n                value: func,\n                configurable: true,\n                enumerable: false,\n                writeable: true\n            });\n        }\n        : (name, func, proto) => {\n            // Take care with (for ... in) on strings!\n            (proto || __)[name] = func;\n        }\n    ;\n// ---------------------------------------------------------------------------\nfunction _uri_to_string_() {\n    return fromLocation(this);\n}\n__ex('toString', _uri_to_string_);\n__ex('valueOf', _uri_to_string_);\n\n// ---------------------------------------------------------------------------\nURLJS.parseUrl = parseUrl;\nURLJS.fromLocation = fromLocation;\nURLJS.toObject = toObject;\nURLJS.fromObject = fromObject;\n// ---------------------------------------------------------------------------\nURLJS.is_url = is_url;\nURLJS.is_domain = is_domain;\n"],"names":["NIL","_is_url_r_","_is_domain_r_","is_url","str","test","is_domain","decodeAmp","String","replace","encodeAmp","urldecode","decodeURIComponent","_excludeQueryChart_r_","toObject","sep","eq","ndec","undefined","j","split","i","length","a","t","splice","join","_parse_url_exp","RegExp","_parse_url_map","protocol","username","password","host","hostname","port","pathname","search","query","hash","parseUrl","href","part","parseQuery","match","map","ret","_","URL","createObjectURL","Object","hasOwnProperty","path","origin","domain","toLowerCase","fromObject","o","pref","nenc","r","keys","n","v","sort","encodeURIComponent","indexOf","fromLocation","url","push","substr","URLJS","baseURL","_url","call","slice","_path","SyntaxError","__","prototype","__ex","defineProperty","name","func","proto","value","configurable","enumerable","writeable","_uri_to_string_"],"mappings":"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"}